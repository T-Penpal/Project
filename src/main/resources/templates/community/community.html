<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>#Penpal</title>
	<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
	
	<link rel="stylesheet" href="/css/style.css">
</head>

<body>
<<<<<<< HEAD
	<div id="wrap">
		<header id="header" class="potion">
			<h1 class="header_logo">
				<a href="/">#Penpal</a>
			</h1>
			<div class="header_navi">
				<ul>
					<li><a href="/">Home</a></li>
					<li><a href="/users">Users</a></li>
					<li><a href="/community">Community</a></li>
				</ul>
			</div>
			<div class="header_language">
				<select name="language" id="language" th:field="*{language}">
					<option value="" selected>Languages</option>
					<option th:each="language : ${language}" th:value="${language}" th:text="${language.name}"></option>
				</select>
			</div>
			<div class="header_login">
				<a href="/member/login">Login</a>
			</div>
		</header>
		<section id="community_section01" class="potion">
			<div class="community_text">
				<h1>Community</h1>
				<h3>The standard chunk of Lorem Ipsum used since the 1500s is reproduced below for those interested.
					<br>
					Sections 1.10.32 and 1.10.33 from "de Finibus Bonorum et Malorum" by Cicero are also reproduced in
					their exact original form.
				</h3>
			</div>
			<div class="search">
				<label name="search"></label>
				<input type="text" id="search_kw" placeholder="Search" th:value="${kw}">
				<button type="button" id="btn_search"></button>
			</div>
			<div class="search_nationality">
				<select class="nation_select" name="location" id="location" th:field="*{location}">
					<option value="" selected>Nationality</option>
					<option th:each="location : ${location}" th:value="${location}" th:text="${location.name}"></option>
				</select>
			</div>
			<div class="search_country">
				<select class="country_select" name="country" id="country" th:field="*{country}">
					<option value="" selected>Country</option>
					<option th:each="country : ${country}" th:value="${country}" th:text="${country.name}"></option>
				</select>
			</div>
		</section>
		<section id="community_sectino02">
			<div class="community_contents">
				<div class="community_category">
					<ul name="category" id="category" th:field="*{category}">
						<button>
							<li th:each="category : ${category}" th:value="${category}" th:text="${category.name}"></li>
						</button>
					</ul>
				</div>
				<div class="community_bbs">
					<!-- by 장유란, 
							th:classappend="|view0${count}|" 
							==> style.css/ ..community_view:nth-child(1~6)  //css변경 -->
					<div th:each="board, count : ${paging}" th:class="community_view">
						<a th:href="@{|/community/detail/${board.id}|}">
							<!-- 아래 카테고리 : ... 필요없어지면 
                                   th:text="|카테고리 : ${board.category}|" 
                               ==> th:text="${board.category}"형태로 변경 -->
							<div th:text="|no :${board.id}|"></div>
							<div th:text="|카테고리 :${board.category}|"></div>
							<div th:text="|지역 : ${board.location}|"></div>
							<div th:text="|국가 : ${board.country}|"></div>
							<div th:text="|제목 : ${board.title}|"></div>
							<div th:text="|내용 : ${board.content}|"></div>
						</a>
					</div>
					<!-- for문 사용으로 대체(th:class(view01..06) + th:classappend(community_view)) -->
				</div>
			</div>
			<!-- by 장유란, 페이지 링크 추가 -->
			<div class="community_bbs_paging" th:if="${!paging.isEmpty()}">
				<ul class="pagination">
					<li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
						<a class="page-link" href="javascript:void(0)" th:date-page="${paging.number-1}">
							<span>
								<</span>
						</a>
					</li>
					<li th:each="page: ${#numbers.sequence(1, paging.totalPages-1)}"
						th:if="${page} > 5 ? ${page >= paging.number-2 and page <= paging.number+2} : paging.number+5"
						th:classappend="${page == paging.number} ? 'active'" class="page-item">
						<a th:text="${page}" class="page-link" href="javascript:void(0)" th:data-page="${page}"></a>
					</li>
					<!-- 검색기능, page-link 클릭 시 js 실행하여 문자(kw)값에 맞는 board검색하여 제출 -->
					<li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
						<a class="page-link" href="javascript:void(0)" th:data-page="${paging.number+1}" ]>
							<span>></span>
						</a>
					</li>
				</ul>
			</div>
			<form th:action="@{/community}" method="get" id="searchForm">
				<input type="hidden" id="kw" name="kw" th:value="${kw}">
				<input type="hidden" id="page" name="page" th:value="${paging.number}">
			</form>
			<div class="community_write">
				<a href="/community/create">
					<button type="button" class="create_write" title="Write">
						Write
					</button>
				</a>
			</div>
		</section>
	</div>
	<script src="/js/main.js"></script>
</body>

</html>