<html layout:decorate="~{layout/layout}">

<div layout:fragment="content">
    <div id="wrap">
        <section id="profile_section01">

            <div class="profile_function_btn_section" sec:authorize="isAuthenticated()">
                <button id="request_message" th:if="${profile.member.id} != ${loginMember.id}" type="button"
                    value="MESSAGE" onclick="requestMessage()">
                    MESSAGE
                    <!-- 채팅 보내기 버튼, 로그인 id와 프로필 페이지 id가 다르면 등장 -->
                </button>
                <button type="button" value="ADD FRIENDS" th:if="${profile.member.id} != ${loginMember.id}">
                    ADD FRIENDS
                    <!-- 친구 요청 보내기 버튼, 로그인 id와 프로필 페이지 id가 다르면 등장 -->
                </button>
                <script th:inline="javascript">
                    // by 구양근
                    let profile = /*[[${profile}]]*/ "프로필 멤버";

                    function requestMessage() {
                        let msg = {
                            makerId: member.id,
                            guestId: profile.member.id // 프로필 멤버 아이디
                        };
                        commonAjax('/requestRoom', msg, 'post', function (result) {
                            openRoom(result.id, profile.member.name);
                        });
                    }
                </script>
                <button type="button" value="Modify" th:if="${profile.member.id} == ${loginMember.id}"
                    th:onclick="|location.href='/users/profile/modify'|">
                    MODIFY
                    <!-- 로그인 id와 프로필 페이지 id 가 같으면 버튼 등장(본인 페이지일 때) -->
                </button>
            </div>
            <div class="profile_info_section01">
                <div class="profile_img">
                    <!-- 프로필 이미지 -->
                </div>
                <div class="profile_info_data">
                    <div class="profile_name" th:text="${profile.member.name}">
                        <!-- 유저네임 -->
                    </div>
                    <h1 class="profile_last_date">
                        Last Connect<br>
                        <span th:text="${profile.lastDate} != null? 
                        			   ${profile.lastDate} : '- - - - / - - / - -'">
                            <!-- 여기에 last_date data // by 장유란, : 뒤의 대체택스트('') 제거or수정해도 정상작동 -->
                        </span>
                        <!-- 유저 최근 접속일 -->
                    </h1>
                    <div class="profile_info_left">
                        <div class="profile_gender">
                            Gender<br> <!-- th:if문 적용하여 gender 출력 -->
                            <span class="profile_gender_data" th:if="${profile.gender} == 'Male'">
                                Male
                            </span>
                            <span class="profile_gender_data" th:if="${profile.gender} == 'Female'">
                                Female
                            </span>
                            <!-- 유저 성별 -->
                        </div>
                        <div class="profile_age">
                            Age<br>
                            <span class="profile_age_data" th:text="${profile.age}">
                            </span>
                            <!-- 유저 연령 -->
                        </div>
                    </div>
                    <div class="profile_info_right">
                        <div class="profile_location">
                            Nationality<br>
                            <span class="profile_location_data" th:text="${profile.location}">
                            </span>
                            <!-- 유저 국적 -->
                        </div>
                        <div class="profile_country">
                            Country<br>
                            <span class="profile_country_data" th:text="${profile.country}">
                            </span>
                            <!-- 유저 거주 국가 -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section id="profile_section02">
            <div class="profile_left_section">
                <div class="profile_sns_section">
                    <h1>SNS</h1>
                    <ul>
                        <!-- 임시로 sns1: twitter, sns2: facebook, sns3: instagram -->
                        <li class="sns_icon_selected" th:if="${profile.sns1} != ''">
                            <i class="fab fa-twitter" th:if="${profile.sns1} == 'twitter'"></i>
                            <i class="fab fa-facebook-f" th:if="${profile.sns1} == 'facebook'"></i>
                            <i class="fab fa-instagram" th:if="${profile.sns1} == 'instagram'"></i>
                        </li>
                        <li class="sns_icon_selected" th:if="${profile.sns2} != ''">
                            <i class="fab fa-twitter" th:if="${profile.sns2} == 'twitter'"></i>
                            <i class="fab fa-facebook-f" th:if="${profile.sns2} == 'facebook'"></i>
                            <i class="fab fa-instagram" th:if="${profile.sns2} == 'instagram'"></i>
                        </li>
                        <li class="sns_icon_selected" th:if="${profile.sns3} != ''">
                            <i class="fab fa-twitter" th:if="${profile.sns3} == 'twitter'"></i>
                            <i class="fab fa-facebook-f" th:if="${profile.sns3} == 'facebook'"></i>
                            <i class="fab fa-instagram" th:if="${profile.sns3} == 'instagram'"></i>
                        </li>
                    </ul>
                </div>
                <div class="profile_favorite_section">
                    <h1>FAVORITES</h1>
                    <ul>
                        <li class="favorite_selected" th:text="'# '+${profile.favorite1}">
                            <!-- 유저 FAVORITE1 -->
                        </li>
                        <li class="favorite_selected" th:text="'# '+${profile.favorite2}">
                            <!-- 유저 FAVORITE2 -->
                        </li>
                        <li class="favorite_selected" th:text="'# '+${profile.favorite3}">
                            <!-- 유저 FAVORITE3 -->
                        </li>
                    </ul>
                </div>
                <div class="profile_language_section">
                    <h1>LANGUAGES</h1>
                    <ul>
                        <li class="language_selected" th:text="'# '+${profile.language1}">
                            <!-- 유저 LANGUAGE1 -->
                        </li>
                        <li class="language_selected" th:text="'# '+${profile.language2}">
                            <!-- 유저 LANGUAGE2 -->
                        </li>
                        <li class="language_selected" th:text="'# '+${profile.language3}">
                            <!-- 유저 LANGUAGE3 -->
                        </li>
                    </ul>
                </div>
            </div>
            <div class="profile_right_section">
                <div class="profile_comment_section">
                    <h1>Comment</h1>
                    <div class="profile_comment_area" th:text="${profile.comment}">
                        <!-- 유저 comment -->
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>

</html>