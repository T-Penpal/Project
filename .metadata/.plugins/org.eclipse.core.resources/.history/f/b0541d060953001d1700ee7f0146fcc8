<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" layout:decorate="~{layout}">
<div layout:fragment="content" class="container my-3">

	<head>
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<!-- Bootstrap CSS -->
		<link rel="stylesheet" type="text/css" th:href="@{/bootstrap.min.css}">
		<title>Board</title>
		<style>
			* {
				margin: 0;
				padding: 0;
				font-style: none;
				list-style: none;
				text-decoration: none;
				color: black;
			}

			.container {
				margin: 0 auto;
				position: relative;
				width: 1200px;
				height: 5000px;
				background-color: #cccccc;
			}

			.menu {
				top: 200px;
				width: 50px;
				height: 150px;
				position: fixed;
				border: 1px solid black;
				background-color: green;
				z-index: 100;
			}

			.category {
				position: absolute;
				width: 350px;
				height: 500px;
				background-color: aquamarine;
				display: block;
				top: 200px;
				left: 0%;

			}

			.category ul {
				box-sizing: border-box;
				border: 1px solid black;
				background-color: greenyellow;
			}

			/* board */
			.board_container {
				background-color: tan;
				width: 850px;
				height: 1200px;
				display: block;
				left: 100%;
				top: 200px;
				transform: translateX(-100%);
				position: absolute;
			}

			/* board_search */
			.board_search {
				background-color: pink;
				border: 1px solid black;
			}

			/* board_content */
			.board_content {
				width: 100%;
				height: 1000px;
				background-color: firebrick;
			}

			.board_content li {
				display: flex;
				float: left;
				width: 44%;
				height: 29%;
				box-sizing: border-box;
				border: 1px solid black;
				background-color: #fff;
				margin: 2%;
				flex-direction: column;
				align-items: center;
			}

			.board_content li a {
				width: 100%;
				height: 100%;
				padding: 10% 10%;
			}

			/* board(임시) */
			/* categorys(임시) */
			.categorys {
				display: block;
				border: 1px solid black;
				width: 100%;
				height: 30px;
				margin-bottom: 5px;
			}

			.categorys div {
				background-color: #cccccc;
				border: 1px solid black;
    display: inline-block;
    width: 30%;
    box-sizing: border-box;
    text-align: center;
			}

			/* content(임시) */
			.content {
				display: block;
				border: 1px solid black;
				height: 100px;
			}

			.profile_img {
				float: left;
				width: 50px;
				height: 50px;
				margin-right: 20px;
				border: 1px solid black;
				border-radius: 50%;
			}

			.writer_profile {
				display: inline-block;
				width: calc(100% - 70px);
				height: 50px;
				border: 1px solid black;
			}

			.board_title {
				display: flex;
				flex-direction: row;
				justify-content: space-between;
			}
		</style>
	</head>

	<body>
		<div class="container">
			<!-- 임시nav -->
			<nav class="navbar navbar-expand-lg navbar-light bg-light border-bottom">
				<div class="container-fluid">
					<a class="navbar-brand" href="/">#Penpl</a>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse"
						data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
						aria-expanded="false" aria-label="Toggle navigation">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse" id="navbarSupportedContent">
						<ul class="navbar-nav me-auto mb-2 mb-lg-0">
							<li class="nav-item">
								<a class="nav-link" sec:authorize="isAnonymous()" th:href="@{/member/login}">로그인</a>
								<a class="nav-link" sec:authorize="isAuthenticated()"
									th:href="@{/member/logout}">로그아웃</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" sec:authorize="isAnonymous()" href="/member/signup">회원가입</a>
							</li>
						</ul>
					</div>
				</div>
			</nav>
			<!-- //임시nav -->
			<div class="menu">MENU</div>
			<div class="category">
				<ul>
					<li>ALL</li>
					<li>FREE</li>
					<li>GAME</li>
					<li>TRAVEL</li>
				</ul>
			</div>
			<!-- board -->
			<div class="board_container">
				<!-- search -->
				<div class="board_search">
					<div class="board_searching_box">
						<label name="search"></label>
						<input type="text">
						<button href="#">돋보기아이콘</button>
					</div>
					<select name="location" id="location" th:field="*{location}">
						<option value="" selected>Location</option>
						<option th:each="location : ${location}"
                        th:value="${location.name}" 
                        th:text="${location.name}"></option>
					</select>
					<select name="country" id="country" th:field="*{country}">
						<option value="" selected>Country</option>
						<option th:each="country : ${country}"
                        th:value="${country.name}" 
                        th:text="${country.name}"></option>
					</select>
				</div>
				<!-- //search -->
				<!-- board_list -->
				<ul class="board_content">
					<li th:each="board, loop : ${paging}" class="text-center">
						<a th:href="@{|/board/detail/${board.id}|}" class="text-start">
							<div class="categorys">
								<div th:text="${board.category}"></div>
								<div th:text="${board.location}"></div>
								<div th:text="${board.country}"></div>
							</div>
							<div class="profile">
								<div class="profile_img"></div>
								<div class="writer_profile">
									<span th:if="${board.author != null}" th:text="${board.author.userId}"></span>
									<div class="board_title">
										<div th:text="${board.title}"></div>
										<div class="img_preview"><img
												src="	https://icon-library.com/images/preview-icon-png/preview-icon-png-18.jpg"
												alt="preview" style="width: 20px;"></div>
									</div>
								</div>
							</div>
							<!-- 페이징 -->
							<!-- <div th:text="${paging.getTotalElements - (paging.number * paging.size) - loop.index}"></div> -->
							<div th:text="${#temporals.format(board.createDate, 'yyyy-MM-dd HH:mm')}"></div>
							<div class="content" th:text="${board.content}"></div>
						</a>
					</li>
					<!-- //board_list -->
				</ul>
				<!-- 페이징처리 시작 -->
				<div th:if="${!paging.isEmpty()}">
					<ul class="pagination justify-content-center">
						<li class="page-item" th:classappend="${!paging.hasPrevious} ? 'disabled'">
							<a class="page-link" th:href="@{|?page=${paging.number-1}|}">
								<span>이전</span>
							</a>
						</li>
						<li th:each="page: ${#numbers.sequence(0, paging.totalPages-1)}"
							th:if="${page >= paging.number-2 and page <= paging.number+2}"
							th:classappend="${page == paging.number} ? 'active'" class="page-item">
							<a th:text="${page}" class="page-link" th:href="@{|?page=${page}|}"></a>
						</li>
						<li class="page-item" th:classappend="${!paging.hasNext} ? 'disabled'">
							<a class="page-link" th:href="@{|?page=${paging.number+1}|}">
								<span>다음</span>
							</a>
						</li>
					</ul>
				</div>
				<!-- 페이징처리 끝 -->
				<!-- UPLOD button -->
				<a th:href="@{/board/create}" class="btn btn-primary">UPLODE</a>
				<!-- //UPLOD button -->

			</div>
			<!-- //board -->
		</div>
	</body>
</div>

</html>